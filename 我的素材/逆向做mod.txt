逆向dump已有的mod
打开3dm mmt注入游戏 在游戏里可按0唤出 +：重置 
F8为dunp（dump出来的地址 默认在MMT提取软件下 GI 文件夹的3dm插件目录下）
小键盘78：IB值上下   9:复制IB值
从MMT软件中逆向提取 原模点直接导出

提取官方模型 要用到3dm开发版
角色完全展示的情况下 F8 dump   按*找vb值  -复制vb值
将genshin_3dmigoto_collect.py  放到3dm mmt的dump同级文件目录下 鼠标右键进入poller shall
输入python genshin_3dmigoto_collect.py -vb d3569268 -n Lanyan     修改复制的vb值和保存角色的文件名 回车提取即可

获取贴图
先用dds转png的py插件扔进逆向提取好的文件夹里跑一下 出来对应ib的png贴图
Blender里 模型着色里 把png对应导进去
着色里 对应png 颜色连接基础色


权重转移
注意！一定是找个原模型的权重转移到改动的部分上
删除掉要替换的原模或mod里的其他部件 直接删就行
！！！如果出现一种情况比如：头发的某些部位在身子上，那么就需要 把身子上的东西先分离（编辑模式下 选中要分离的部位  按p  按材质分离）
然后合并到头发上 并删除不需要的部分

先把其他的隐藏掉 只保留要转移权重的部位 用weight match插件（需要在权重模式下才有） 安装包名字叫comilarex_tools
用这个插件把权重转移 （脚本转移所以肯定有错的点）
 新开一个blender用转移前的对照权重 把所有部件全部合并
要修改权重的部分 物体模式下用选中 右键点击空白处 用3dm插件 删除未被使用的顶点组 3dm插件是 佬给的 叫MMT

然后要修的对着原来的 把不对的点 按照对的点 数字一个一个改 直到全对 然后用3dm直接合并前缀数字相同的顶点组


第四步：检查删掉多余的东西，比如要缝合的mod和导入的mod都有耳朵 那么就需要删掉一个 不然到时候会穿模 尽量在要往里加的部分里面删东西 不要动大体的模型 
要删的模型尽量分离出来 不要删 鬼知道后面会不会用上

在之前的修改模型时 有时会把部件挪动文件夹 比如原来在body的组件 分离添加到dress里 需要把多张贴图合并到一个贴图里 在blander里uv修改

该删删该改改 合并到一个集合里 然后准备套模型了


第五步 套皮 原理是 自己的mod套一个官方的衣服
把官方的模型导入

全选 编辑模式 面模式 全删 从顶点全部删除  

改uv 全部改成官网的yv 有的有一面有的有两面  名字改成相同的 不然会出错
然后按照头对头 身子对身子 衣服对衣服 其他对其他 分别是1234 合并 


第六步 检查顶点

右下角 数据  颜色属性  改成 COLOR 面拐 字节颜色  颜色里Hex：FF8080  Alpha:0.503 上色

导出 用xxmi导出 或者直接导出


第七步：修贴图
一个是模型来源的文件夹 一个是新导出的文件夹   把模型来源文件夹里出问题部分的材质.dds文件 另存为重命名到新mod的文件夹里 ini对应的文件 原图 光照 普通图都要换 普通材质文件是srgb保存，光照和普通是线性保存。


第八步：修倒影
ORFix.ini这个文件 本质性上是个mod 需要扔在3dm mods文件夹目录下 跟mod扔一起 然后在mod的ini文件里 找到
[TextureOverrideFaruzanHead]
[TextureOverrideFaruzanBody]
[TextureOverrideFaruzanDress]
在下面添加
run = CommandList\global\ORFix\ORFix
并不是所有都需要添加 倒影有问题才添加


第九步：改色
在Blender上找到衣服布料位于哪个地方 用paint.net打开 魔棒选中要修改的地方 调色即可





